{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport { useEffect } from 'react';\nimport io from 'socket.io-client';\nimport { SERVER_DOMAIN } from \"../../../contant\";\nimport { useAppSelector, useAppDispatch } from \"../../../hook/useRedux\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nvar SocketCustom = function SocketCustom(Props) {\n  var currentUserId = useAppSelector(function (state) {\n    return state.common.currentUserOnline;\n  });\n  var dispatch = useAppDispatch();\n  useEffect(function () {\n    var s = io(SERVER_DOMAIN, {\n      withCredentials: true,\n      transports: ['websocket']\n    });\n\n    if (currentUserId) {\n      s.on('connect', function () {});\n      s.on('join', function (idSocket) {\n        s.emit('join', {\n          SocketId: idSocket,\n          UserId: currentUserId.ID\n        });\n      });\n      s.on('sendNotify', function () {\n        var _ref = _asyncToGenerator(function* (data) {\n          console.log('-----------------------');\n        });\n\n        return function (_x) {\n          return _ref.apply(this, arguments);\n        };\n      }());\n    }\n  }, []);\n  return _jsx(_Fragment, {});\n};\n\nexport default SocketCustom;","map":{"version":3,"names":["useEffect","io","SERVER_DOMAIN","useAppSelector","useAppDispatch","SocketCustom","Props","currentUserId","state","common","currentUserOnline","dispatch","s","withCredentials","transports","on","idSocket","emit","SocketId","UserId","ID","data","console","log"],"sources":["E:/Source Code/Oryza-ReactNative-Core/src/component/common/socket/index.tsx"],"sourcesContent":["import { memo, useEffect, useState } from 'react';\r\nimport io from 'socket.io-client';\r\nimport { SERVER_DOMAIN } from 'src/contant';\r\nimport { useAppSelector, useAppDispatch } from 'src/hook/useRedux';\r\n\r\nexport interface TestProps {}\r\n\r\nconst SocketCustom = (Props: TestProps) => {\r\n    // socket newEventLog\r\n    const currentUserId = useAppSelector((state) => state.common.currentUserOnline);\r\n    const dispatch = useAppDispatch();\r\n\r\n    useEffect(() => {\r\n        const s = io(SERVER_DOMAIN, { withCredentials: true, transports: ['websocket'] });\r\n\r\n        if (currentUserId) {\r\n            s.on('connect', () => {});\r\n            s.on('join', (idSocket: any) => {\r\n                s.emit('join', { SocketId: idSocket, UserId: currentUserId.ID });\r\n            });\r\n\r\n            s.on('sendNotify', async (data: any) => {\r\n                console.log('-----------------------');\r\n                // console.log('sendNotify: ', data);\r\n            });\r\n        }\r\n    }, []);\r\n\r\n    return <></>;\r\n};\r\n\r\nexport default SocketCustom;\r\n"],"mappings":";AAAA,SAAeA,SAAf,QAA0C,OAA1C;AACA,OAAOC,EAAP,MAAe,kBAAf;AACA,SAASC,aAAT;AACA,SAASC,cAAT,EAAyBC,cAAzB;;;;AAIA,IAAMC,YAAY,GAAG,SAAfA,YAAe,CAACC,KAAD,EAAsB;EAEvC,IAAMC,aAAa,GAAGJ,cAAc,CAAC,UAACK,KAAD;IAAA,OAAWA,KAAK,CAACC,MAAN,CAAaC,iBAAxB;EAAA,CAAD,CAApC;EACA,IAAMC,QAAQ,GAAGP,cAAc,EAA/B;EAEAJ,SAAS,CAAC,YAAM;IACZ,IAAMY,CAAC,GAAGX,EAAE,CAACC,aAAD,EAAgB;MAAEW,eAAe,EAAE,IAAnB;MAAyBC,UAAU,EAAE,CAAC,WAAD;IAArC,CAAhB,CAAZ;;IAEA,IAAIP,aAAJ,EAAmB;MACfK,CAAC,CAACG,EAAF,CAAK,SAAL,EAAgB,YAAM,CAAE,CAAxB;MACAH,CAAC,CAACG,EAAF,CAAK,MAAL,EAAa,UAACC,QAAD,EAAmB;QAC5BJ,CAAC,CAACK,IAAF,CAAO,MAAP,EAAe;UAAEC,QAAQ,EAAEF,QAAZ;UAAsBG,MAAM,EAAEZ,aAAa,CAACa;QAA5C,CAAf;MACH,CAFD;MAIAR,CAAC,CAACG,EAAF,CAAK,YAAL;QAAA,6BAAmB,WAAOM,IAAP,EAAqB;UACpCC,OAAO,CAACC,GAAR,CAAY,yBAAZ;QAEH,CAHD;;QAAA;UAAA;QAAA;MAAA;IAIH;EACJ,CAdQ,EAcN,EAdM,CAAT;EAgBA,OAAO,mBAAP;AACH,CAtBD;;AAwBA,eAAelB,YAAf"},"metadata":{},"sourceType":"module"}